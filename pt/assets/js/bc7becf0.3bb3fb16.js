(self.webpackChunkgo_mobile=self.webpackChunkgo_mobile||[]).push([[9539],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return p},kt:function(){return m}});var o=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,o,i=function(e,t){if(null==e)return{};var a,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=o.createContext({}),d=function(e){var t=o.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=d(e.components);return o.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var a=e.components,i=e.mdxType,n=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(a),m=i,k=u["".concat(l,".").concat(m)]||u[m]||c[m]||n;return a?o.createElement(k,r(r({ref:t},p),{},{components:a})):o.createElement(k,r({ref:t},p))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var n=a.length,r=new Array(n);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var d=2;d<n;d++)r[d]=a[d];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}u.displayName="MDXCreateElement"},697:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var o=a(22122),i=a(19756),n=(a(67294),a(3905)),r=["components"],s={id:"adding-actions-template",title:"Adicionar a\xe7\xf5es em modelos"},l=void 0,d={unversionedId:"tutorials/actions/adding-actions-template",id:"tutorials/actions/adding-actions-template",isDocsHomePage:!1,title:"Adicionar a\xe7\xf5es em modelos",description:"OBJETIVOS",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/tutorials/actions/adding-actions-template.md",sourceDirName:"tutorials/actions",slug:"/tutorials/actions/adding-actions-template",permalink:"/go-mobile/pt/docs/tutorials/actions/adding-actions-template",editUrl:"https://github.com/4d/go-mobile/edit/main/docs/tutorials/actions/adding-actions-template.md",version:"current",frontMatter:{id:"adding-actions-template",title:"Adicionar a\xe7\xf5es em modelos"},sidebar:"tutorials",previous:{title:"Definir sua primeira a\xe7\xe3o",permalink:"/go-mobile/pt/docs/tutorials/actions/define-first-action"},next:{title:"Usar par\xe2metros de a\xe7\xe3o",permalink:"/go-mobile/pt/docs/tutorials/actions/using-action-parameters"}},p=[{value:"PASSO 1. Baixe o Starter Project",id:"passo-1-baixe-o-starter-project",children:[]},{value:"PASSO 2. Adicione modelos personalizados para Projeto 4D for iOS",id:"passo-2-adicione-modelos-personalizados-para-projeto-4d-for-ios",children:[]},{value:"PASSO 3. Adicione a\xe7\xf5es em formul\xe1rios Lista",id:"passo-3-adicione-a\xe7\xf5es-em-formul\xe1rios-lista",children:[{value:"Adicione a\xe7\xf5es para o modelo personalizado TasksList",id:"adicione-a\xe7\xf5es-para-o-modelo-personalizado-taskslist",children:[]},{value:"Adicionar a\xe7\xf5es para o modelo personalizado TasksCollection",id:"adicionar-a\xe7\xf5es-para-o-modelo-personalizado-taskscollection",children:[]}]},{value:"PASSO 4. Adicionar as a\xe7\xf5es nos formul\xe1rios Detalhados",id:"passo-4-adicionar-as-a\xe7\xf5es-nos-formul\xe1rios-detalhados",children:[]}],c={toc:p};function u(e){var t=e.components,s=(0,i.Z)(e,r);return(0,n.kt)("wrapper",(0,o.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"OBJETIVOS")),(0,n.kt)("p",{parentName:"blockquote"},"Adicionar a\xe7\xf5es para modelos de formul\xe1rios de Lista e formul\xe1rios detalhados.")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},(0,n.kt)("strong",{parentName:"p"},"PR\xc9-REQUISITOS")),(0,n.kt)("p",{parentName:"blockquote"},"Clique em",(0,n.kt)("inlineCode",{parentName:"p"},"[here](prerequisites.html)")," para ver o que necessita para  come\xe7ar")),(0,n.kt)("p",null,"Neste tutorial, veremos como \xe9 f\xe1cil ",(0,n.kt)("strong",{parentName:"p"},"agregar a\xe7\xf5es a planilhas personalizadas"),"."),(0,n.kt)("h2",{id:"passo-1-baixe-o-starter-project"},"PASSO 1. Baixe o Starter Project"),(0,n.kt)("p",null,"To begin, download the ",(0,n.kt)("strong",{parentName:"p"},"Starter project"),", which includes:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"2 modelos personalizados formul\xe1rios Lista (TaskList e TasksCollection)"),(0,n.kt)("li",{parentName:"ul"},"1 modelo personalizado Formul\xe1rio Detalhado (TasksDetails)"),(0,n.kt)("li",{parentName:"ul"},"um arquivo Tasks.4dbase")),(0,n.kt)("div",{className:"center-button"},(0,n.kt)("a",{class:"button button--primary",href:"https://github.com/4d-go-mobile/tutorial-AddingActionToTemplates/archive/1dc5aecfbea62a9999d571cb1a956f1ef6983111.zip"},"Download")),(0,n.kt)("h2",{id:"passo-2-adicione-modelos-personalizados-para-projeto-4d-for-ios"},"PASSO 2. Adicione modelos personalizados para Projeto 4D for iOS"),(0,n.kt)("p",null,"Primeiro, solte:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"as pastas de planilhas ",(0,n.kt)("strong",{parentName:"li"},"TasksList")," e ",(0,n.kt)("strong",{parentName:"li"},"TasksCollection")," na pasta ",(0,n.kt)("em",{parentName:"li"},"Tasks.4dbase/Resources/Mobile/form/list"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Listform templates",src:a(11160).Z})),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"as pastas do modelo ",(0,n.kt)("strong",{parentName:"li"},"TasksDetail")," en ",(0,n.kt)("em",{parentName:"li"},"Tasks.4dbase/Resources/Mobile/form/detail "))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Detailform template",src:a(67587).Z})),(0,n.kt)("h2",{id:"passo-3-adicione-a\xe7\xf5es-em-formul\xe1rios-lista"},"PASSO 3. Adicione a\xe7\xf5es em formul\xe1rios Lista"),(0,n.kt)("p",null,"H\xe1 dois tipos de a\xe7\xf5es dispon\xedveis:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a\xe7\xf5es de Tabela"),(0,n.kt)("li",{parentName:"ul"},"a\xe7\xf5es de entidade")),(0,n.kt)("p",null,"Primeiro vamos abrir o arquivo ",(0,n.kt)("inlineCode",{parentName:"p"},"list/TasksList/Sources/Forms/Tables/___TABLE___/___TABLE___ListForm..Storyboard")," ."),(0,n.kt)("h3",{id:"adicione-a\xe7\xf5es-para-o-modelo-personalizado-taskslist"},"Adicione a\xe7\xf5es para o modelo personalizado TasksList"),(0,n.kt)("h4",{id:"a-adicionar-uma-tag-de-a\xe7\xe3o-de-tabela"},"A. Adicionar uma Tag de a\xe7\xe3o de tabela"),(0,n.kt)("p",null,"Selecione o ",(0,n.kt)("strong",{parentName:"p"},"List form Controller")," e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___TABLE_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add table action tag",src:a(27714).Z})),(0,n.kt)("h4",{id:"b-adicionar-uma-tag-de-a\xe7\xe3o-de-entidade"},"B. Adicionar uma Tag de a\xe7\xe3o de Entidade"),(0,n.kt)("p",null,"Selecione a vista Animatable Table e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add entity action tag",src:a(96751).Z})),(0,n.kt)("p",null,"Seu modelo personalizado est\xe1 pronto para exibir as a\xe7\xf5es!"),(0,n.kt)("p",null,"Pode selecionar o modelo personalizado TaskList na ",(0,n.kt)("strong",{parentName:"p"},"se\xe7\xe3o Formul\xe1rios")," e agregar os seguintes campos:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Taskslist Forms section",src:a(27699).Z})),(0,n.kt)("p",null,"Agora vamos agregar as etiquetas de a\xe7\xe3o ao modelo personalizado TasksCollection"),(0,n.kt)("h3",{id:"adicionar-a\xe7\xf5es-para-o-modelo-personalizado-taskscollection"},"Adicionar a\xe7\xf5es para o modelo personalizado TasksCollection"),(0,n.kt)("p",null,"Para fazer isso, abra o arquivo ",(0,n.kt)("inlineCode",{parentName:"p"},"list/TasksCollection/Sources/Forms/Tables/___TABLE___/___TABLE___ListForm.Storyboard"),"."),(0,n.kt)("h4",{id:"a-adicionar-uma-tag-de-a\xe7\xe3o-de-tabela-1"},"A. Adicionar uma Tag de a\xe7\xe3o de tabela"),(0,n.kt)("p",null,"O processo \xe9 similar ao processo do modelo personalizado TasksList"),(0,n.kt)("p",null,"Selecione o ",(0,n.kt)("strong",{parentName:"p"},"List form Controller")," e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___TABLE_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add collection table action tag",src:a(54242).Z})),(0,n.kt)("h4",{id:"b-adicionar-uma-tag-de-a\xe7\xe3o-de-entidade-1"},"B. Adicionar uma Tag de a\xe7\xe3o de Entidade"),(0,n.kt)("p",null,"Para as entidades, a forma de mostrar as a\xe7\xf5es \xe9 bastante diferente de TableView: a a\xe7\xe3o de deslizar n\xe3o est\xe1 adaptada a CollectionViews."),(0,n.kt)("p",null,"Para as vistas de cole\xe7\xe3o, a melhor maneira de mostrar as a\xe7\xf5es \xe9 utilizar um gesto de ",(0,n.kt)("strong",{parentName:"p"},"press\xe3o longo")," nas c\xe9lulas com as quais queira interagir."),(0,n.kt)("p",null,"Para isso, selecione a c\xe9lula collectionView e agregue esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add collection entity action tag",src:a(47075).Z})),(0,n.kt)("p",null,"Para otimizar a intera\xe7\xe3o, pode agregar um efeito escalar com uma haptic feedback (que permite modular sutilmente vibra\xe7\xf5es em games) agregando a linha abaixo em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"touch.zoomScale")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"Number")),(0,n.kt)("li",{parentName:"ul"},"Valor: ",(0,n.kt)("inlineCode",{parentName:"li"},"0,96")," (adapte a rela\xe7\xe3o de escala segundo o resultado que quiser obter)")),(0,n.kt)("p",null,"Pode selecionar o modelo personalizado TasksCollection na ",(0,n.kt)("strong",{parentName:"p"},"se\xe7\xe3o Formul\xe1rios")," e adicionar os campos abaixo:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"TasksCollection Forms section",src:a(77415).Z})),(0,n.kt)("h2",{id:"passo-4-adicionar-as-a\xe7\xf5es-nos-formul\xe1rios-detalhados"},"PASSO 4. Adicionar as a\xe7\xf5es nos formul\xe1rios Detalhados"),(0,n.kt)("p",null,"Nos formul\xe1rios detalhados, pode utilizar o ",(0,n.kt)("strong",{parentName:"p"},"bot\xe3o gen\xe9rico")," na barra de navega\xe7\xe3o ou ",(0,n.kt)("strong",{parentName:"p"},"criar facilmente seu pr\xf3prio bot\xe3o de a\xe7\xe3o personalizado"),". Em ambos os casos voc\xea tem que adicionar tags."),(0,n.kt)("p",null,"Para o bot\xe3o gen\xe9rico integrado na barra de navega\xe7\xe3o, selecione o Controlador e adicione esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add detailform entity action tag",src:a(94441).Z})),(0,n.kt)("p",null,"Em nosso tutorial, queremos construir nosso pr\xf3prio bot\xe3o gen\xe9rico. Para isso, abra o arquivo Storyboard ",(0,n.kt)("inlineCode",{parentName:"p"},"detail/TasksDetail/Sources/Forms/Tables/___TABLE___/___TABLE___DetailsForm.storyboard"),"."),(0,n.kt)("p",null,"Abra o arquivo, selecione o bot\xe3o na parte inferior direita e agregue esta linha em ",(0,n.kt)("strong",{parentName:"p"},"User Defined Runtime Attributes")," (Identity inspector):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key Path: ",(0,n.kt)("inlineCode",{parentName:"li"},"actions")),(0,n.kt)("li",{parentName:"ul"},"Type: ",(0,n.kt)("inlineCode",{parentName:"li"},"String")),(0,n.kt)("li",{parentName:"ul"},"Value: ",(0,n.kt)("inlineCode",{parentName:"li"},"___ENTITY_ACTIONS___"))),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Add detailform entity action tag custom action button",src:a(45136).Z})),(0,n.kt)("p",null,"Como pode ver, alguns bot\xf5es visuais est\xe3o faltando no arquivo Storyboard. Pode encontrar estas imagens na planilha",(0,n.kt)("strong",{parentName:"p"},"carpeta Resources"),". Ser\xe3o inclu\xeddas no projeto durante o processo de build."),(0,n.kt)("p",null,"Por exemplo, para  ",(0,n.kt)("strong",{parentName:"p"},"moreButton.imageset"),":"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Template ressources",src:a(49950).Z})),(0,n.kt)("p",null,"Pode selecionar o modelo personalizado TasksDetail na ",(0,n.kt)("strong",{parentName:"p"},"se\xe7\xe3o Formul\xe1rios")," e agregar os campos abaixo:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"TasksDetail Forms section",src:a(27197).Z})),(0,n.kt)("p",null,"Parab\xe9ns, sua aplica\xe7\xe3o iOS Tasks agora est\xe1 completa e inclui a\xe7\xf5es nos formul\xe1rios Lista e detalhados."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Template ressources",src:a(21065).Z})),(0,n.kt)("p",null,"Baixe o projeto terminado:"),(0,n.kt)("div",{className:"center-button"},(0,n.kt)("a",{className:"button button--primary",href:"https://github.com/4d-go-mobile/tutorial-AddingActionToTemplates/releases/latest/download/tutorial-AddingActionToTemplates.zip"},"Download")))}u.isMDXComponent=!0},47075:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Add-collection-entity-tag-taskslist-3f04e0602db0b304b72fb6ccfcb19b4e.png"},54242:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Add-collection-table-tag-taskslist-36f6728e233cbadd86070781b08e978b.png"},96751:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Add-entity-tag-taskslist-f451a9760f86a118e99afc27fc80edf3.png"},27714:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Add-table-tag-taskslist-8d2cbcb005e17c5e11ebc6fad5c21655.png"},45136:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Detail-form-action-custom-action-Button-dce7734160980e4471815a31dde1720e.png"},94441:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Detail-form-action-navigationBar-7ff5b86ac2040d091e2bc18a51d41c62.png"},67587:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Detailform-template-12ade6ee5a4eb693cbf014faf59c56a5.png"},21065:function(e,t,a){"use strict";t.Z=a.p+"assets/images/ListForm-entity-action-tableview-c4ca8838892967fd5df82c8271e4090b.png"},11160:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Listform-templates-09ed1c5a3ff901a807ff3ead04d0ada7.png"},49950:function(e,t,a){"use strict";t.Z=a.p+"assets/images/Template-Ressources-db10d9e26011ee4ab1652752eedb6b32.png"},27197:function(e,t,a){"use strict";t.Z=a.p+"assets/images/detailform-forms-section-8159e555c94e2e4d36da5d27329ec148.png"},77415:function(e,t,a){"use strict";t.Z=a.p+"assets/images/listform-taskscollection-forms-section-09fa057f109a221cd927c4c4496e308c.png"},27699:function(e,t,a){"use strict";t.Z=a.p+"assets/images/listform-taskslist-forms-section-c3786fcf5144780d2bc741888fd62dc1.png"}}]);